Start testing: Jan 27 19:23 UTC
----------------------------------------------------------
29/31 Testing: BootstrapTest.PeerConnection
29/31 Test: BootstrapTest.PeerConnection
Command: "/home/runner/workspace/build/bootstrap_tests" "--gtest_filter=BootstrapTest.PeerConnection" "--gtest_also_run_disabled_tests"
Directory: /home/runner/workspace/build
"BootstrapTest.PeerConnection" start time: Jan 27 19:23 UTC
Output:
----------------------------------------------------------
Running main() from /build/source/googletest/src/gtest_main.cc
Note: Google Test filter = BootstrapTest.PeerConnection
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from BootstrapTest
[ RUN      ] BootstrapTest.PeerConnection
[2025-01-27 19:23:37.001087] [0x00007f0b999cad80] [info]    Initializing Bootstrap with ID: 1
[2025-01-27 19:23:37.001094] [0x00007f0b999cad80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 19:23:37.001105] [0x00007f0b999cad80] [info]    Initializing TCP server  on 127.0.0.1:3001
[2025-01-27 19:23:37.001114] [0x00007f0b999cad80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 19:23:37.001117] [0x00007f0b999cad80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 19:23:37.001120] [0x00007f0b999cad80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 19:23:37.001122] [0x00007f0b999cad80] [info]    PeerManager set for TCP server 
[2025-01-27 19:23:37.001126] [0x00007f0b999cad80] [info]    Initializing FileServer with ID: 1
[2025-01-27 19:23:37.001158] [0x00007f0b999cad80] [info]    Initializing Store with base path: fileserver_1
[2025-01-27 19:23:37.001169] [0x00007f0b999cad80] [debug]   Store directory created/verified at: fileserver_1
[2025-01-27 19:23:37.001175] [0x00007f0b999cad80] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:37.001178] [0x00007f0b999cad80] [info]    FileServer initialization complete
[2025-01-27 19:23:37.001180] [0x00007f0b999cad80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 19:23:37.001185] [0x00007f0b999cad80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 19:23:37.001188] [0x00007f0b999cad80] [info]    Initializing Bootstrap with ID: 2
[2025-01-27 19:23:37.001191] [0x00007f0b999cad80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 19:23:37.001194] [0x00007f0b999cad80] [info]    Initializing TCP server  on 127.0.0.1:3002
[2025-01-27 19:23:37.001197] [0x00007f0b999cad80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 19:23:37.001199] [0x00007f0b999cad80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 19:23:37.001203] [0x00007f0b999cad80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 19:23:37.001205] [0x00007f0b999cad80] [info]    PeerManager set for TCP server 
[2025-01-27 19:23:37.001211] [0x00007f0b999cad80] [info]    Initializing FileServer with ID: 2
[2025-01-27 19:23:37.001214] [0x00007f0b999cad80] [info]    Initializing Store with base path: fileserver_2
[2025-01-27 19:23:37.001218] [0x00007f0b999cad80] [debug]   Store directory created/verified at: fileserver_2
[2025-01-27 19:23:37.001224] [0x00007f0b999cad80] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:37.001226] [0x00007f0b999cad80] [info]    FileServer initialization complete
[2025-01-27 19:23:37.001228] [0x00007f0b999cad80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 19:23:37.001231] [0x00007f0b999cad80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 19:23:37.001344] [0x00007f0b999c46c0] [debug]   Endpoint created
[2025-01-27 19:23:37.001354] [0x00007f0b999c46c0] [debug]   Acceptor created
[2025-01-27 19:23:37.001923] [0x00007f0b999c46c0] [debug]   Starting to accept connections
[2025-01-27 19:23:37.001932] [0x00007f0b999c46c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:37.001947] [0x00007f0b999c46c0] [debug]   Starting IO context
[2025-01-27 19:23:37.002003] [0x00007f0b999c46c0] [info]    Server started successfully on 127.0.0.1:3001
[2025-01-27 19:23:37.002009] [0x00007f0b999c46c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 19:23:38.001487] [0x00007f0b989c26c0] [debug]   Endpoint created
[2025-01-27 19:23:38.001508] [0x00007f0b989c26c0] [debug]   Acceptor created
[2025-01-27 19:23:38.002431] [0x00007f0b989c26c0] [debug]   Starting to accept connections
[2025-01-27 19:23:38.002445] [0x00007f0b989c26c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:38.002462] [0x00007f0b989c26c0] [debug]   Starting IO context
[2025-01-27 19:23:38.002522] [0x00007f0b989c26c0] [info]    Server started successfully on 127.0.0.1:3002
[2025-01-27 19:23:38.002531] [0x00007f0b989c26c0] [info]    Bootstrap program: Connecting to bootstrap nodes...
[2025-01-27 19:23:38.002534] [0x00007f0b989c26c0] [info]    Resolving address to endpoints
[2025-01-27 19:23:38.002550] [0x00007f0b989c26c0] [info]    Attempting to connect to 127.0.0.1:3001
[2025-01-27 19:23:38.002774] [0x00007f0b991c36c0] [debug]   Calling receive_handshake for incoming connection
[2025-01-27 19:23:38.002785] [0x00007f0b991c36c0] [debug]   Receiving handshake request
[2025-01-27 19:23:38.002787] [0x00007f0b991c36c0] [debug]   Starting to read ID
[2025-01-27 19:23:38.002794] [0x00007f0b989c26c0] [info]    Successfully connected to 127.0.0.1:3001
[2025-01-27 19:23:38.002796] [0x00007f0b989c26c0] [debug]   Initiating handshake request
[2025-01-27 19:23:38.002798] [0x00007f0b989c26c0] [debug]   Starting to send ID
[2025-01-27 19:23:38.002819] [0x00007f0b991c36c0] [info]    Received ID: 2
[2025-01-27 19:23:38.002826] [0x00007f0b991c36c0] [debug]   Preparing to send ID back to peer: 1
[2025-01-27 19:23:38.002838] [0x00007f0b991c36c0] [debug]   Starting to send ID
[2025-01-27 19:23:38.002853] [0x00007f0b991c36c0] [info]    Sent ID: 1
[2025-01-27 19:23:38.002860] [0x00007f0b991c36c0] [debug]   Successfully sent ID back to peer
[2025-01-27 19:23:38.002863] [0x00007f0b991c36c0] [debug]   Creating new peer with ID: 2
[2025-01-27 19:23:38.002879] [0x00007f0b991c36c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:38.002882] [0x00007f0b991c36c0] [debug]   Constructing TCP_Peer
[2025-01-27 19:23:38.002885] [0x00007f0b991c36c0] [debug]   Input stream initialized
[2025-01-27 19:23:38.002887] [0x00007f0b991c36c0] [info]    TCP_Peer instance created successfully
[2025-01-27 19:23:38.002889] [0x00007f0b991c36c0] [info]    Added peer with ID: 2
[2025-01-27 19:23:38.002891] [0x00007f0b991c36c0] [debug]   Setting stream processor
[2025-01-27 19:23:38.002893] [0x00007f0b991c36c0] [debug]   Stream processor configured
[2025-01-27 19:23:38.002894] [0x00007f0b991c36c0] [debug]   Attempting to start stream processing
[2025-01-27 19:23:38.002947] [0x00007f0b991c36c0] [info]    Stream processing started successfully
[2025-01-27 19:23:38.002953] [0x00007f0b991c36c0] [info]    Accepted and initialized new connection from peer: 2
[2025-01-27 19:23:38.002955] [0x00007f0b991c36c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:38.002965] [0x00007f0b991c36c0] [debug]   Handshake complete for peer: 2
[2025-01-27 19:23:38.002967] [0x00007f0b991c36c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:38.002984] [0x00007f0b989c26c0] [info]    Sent ID: 2
[2025-01-27 19:23:38.002986] [0x00007f0b989c26c0] [debug]   Starting to read ID
[2025-01-27 19:23:38.002990] [0x00007f0b989c26c0] [info]    Received ID: 1
[2025-01-27 19:23:38.002994] [0x00007f0b989c26c0] [debug]   Creating new peer with ID: 1
[2025-01-27 19:23:38.003008] [0x00007f0b989c26c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:38.003042] [0x00007f0b989c26c0] [debug]   Constructing TCP_Peer
[2025-01-27 19:23:38.003059] [0x00007f0b989c26c0] [debug]   Input stream initialized
[2025-01-27 19:23:38.003063] [0x00007f0b989c26c0] [info]    TCP_Peer instance created successfully
[2025-01-27 19:23:38.003070] [0x00007f0b989c26c0] [info]    Added peer with ID: 1
[2025-01-27 19:23:38.003073] [0x00007f0b989c26c0] [debug]   Setting stream processor
[2025-01-27 19:23:38.003076] [0x00007f0b989c26c0] [debug]   Stream processor configured
[2025-01-27 19:23:38.003078] [0x00007f0b989c26c0] [debug]   Attempting to start stream processing
[2025-01-27 19:23:38.003218] [0x00007f0b989c26c0] [info]    Stream processing started successfully
[2025-01-27 19:23:38.003231] [0x00007f0b989c26c0] [info]    Accepted and initialized new connection from peer: 1
[2025-01-27 19:23:38.003234] [0x00007f0b989c26c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:38.003241] [0x00007f0b989c26c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 19:23:38.003300] [0x00007f0b937fe6c0] [debug]   Setting up stream processing
[2025-01-27 19:23:38.003313] [0x00007f0b937fe6c0] [trace]   Setting up next async read
[2025-01-27 19:23:38.004704] [0x00007f0b92ffd6c0] [debug]   Setting up stream processing
[2025-01-27 19:23:38.004714] [0x00007f0b92ffd6c0] [trace]   Setting up next async read
[2025-01-27 19:23:39.001546] [0x00007f0b999cad80] [info]    Bootstrap program: Initiating shutdown sequence
[2025-01-27 19:23:39.001570] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down File Server
[2025-01-27 19:23:39.001575] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down Peer Manager
[2025-01-27 19:23:39.001594] [0x00007f0b999cad80] [info]    Initiating PeerManager shutdown
[2025-01-27 19:23:39.001598] [0x00007f0b999cad80] [debug]   Stopping stream processing
[2025-01-27 19:23:39.001633] [0x00007f0b92ffd6c0] [info]    Stream processing stopped
[2025-01-27 19:23:39.001669] [0x00007f0b999cad80] [debug]   Processing thread joined
[2025-01-27 19:23:39.001673] [0x00007f0b999cad80] [info]    Stream processing stopped
[2025-01-27 19:23:39.001737] [0x00007f0b999cad80] [info]    Successfully disconnected peer: 1
[2025-01-27 19:23:39.001741] [0x00007f0b999cad80] [debug]   Disconnected peer: 
[2025-01-27 19:23:39.001744] [0x00007f0b999cad80] [info]    PeerManager shutdown complete
[2025-01-27 19:23:39.001747] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down TCP Server
[2025-01-27 19:23:39.001750] [0x00007f0b991c36c0] [error]   Read error: End of file
[2025-01-27 19:23:39.001762] [0x00007f0b991c36c0] [trace]   Setting up next async read
[2025-01-27 19:23:39.001767] [0x00007f0b999cad80] [info]    Initiating server shutdown
[2025-01-27 19:23:39.001789] [0x00007f0b93fff6c0] [error]   Accept error: Operation canceled
[2025-01-27 19:23:39.001822] [0x00007f0b999cad80] [info]    Server shutdown complete
[2025-01-27 19:23:39.001837] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down Channel
[2025-01-27 19:23:39.001840] [0x00007f0b999cad80] [info]    Bootstrap program: Shutdown complete
[2025-01-27 19:23:39.001843] [0x00007f0b999cad80] [info]    Bootstrap program: Initiating shutdown sequence
[2025-01-27 19:23:39.001846] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down File Server
[2025-01-27 19:23:39.001849] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down Peer Manager
[2025-01-27 19:23:39.001851] [0x00007f0b999cad80] [info]    Initiating PeerManager shutdown
[2025-01-27 19:23:39.001854] [0x00007f0b999cad80] [debug]   Stopping stream processing
[2025-01-27 19:23:39.001874] [0x00007f0b937fe6c0] [info]    Stream processing stopped
[2025-01-27 19:23:39.001924] [0x00007f0b999cad80] [debug]   Processing thread joined
[2025-01-27 19:23:39.001930] [0x00007f0b999cad80] [info]    Stream processing stopped
[2025-01-27 19:23:39.002004] [0x00007f0b999cad80] [info]    Successfully disconnected peer: 2
[2025-01-27 19:23:39.002010] [0x00007f0b999cad80] [debug]   Disconnected peer: 
[2025-01-27 19:23:39.002012] [0x00007f0b999cad80] [info]    PeerManager shutdown complete
[2025-01-27 19:23:39.002015] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down TCP Server
[2025-01-27 19:23:39.002018] [0x00007f0b999cad80] [info]    Initiating server shutdown
[2025-01-27 19:23:39.002034] [0x00007f0b991c36c0] [error]   Accept error: Operation canceled
[2025-01-27 19:23:39.002038] [0x00007f0b991c36c0] [error]   Accept error: Operation canceled
[2025-01-27 19:23:39.002114] [0x00007f0b999cad80] [info]    Server shutdown complete
[2025-01-27 19:23:39.002126] [0x00007f0b999cad80] [debug]   Bootstrap program: Shutting down Channel
[2025-01-27 19:23:39.002219] [0x00007f0b999cad80] [info]    Bootstrap program: Shutdown complete
[       OK ] BootstrapTest.PeerConnection (2001 ms)
[----------] 1 test from BootstrapTest (2001 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (2001 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   2.02 sec
----------------------------------------------------------
Test Passed.
"BootstrapTest.PeerConnection" end time: Jan 27 19:23 UTC
"BootstrapTest.PeerConnection" time elapsed: 00:00:02
----------------------------------------------------------

30/31 Testing: BootstrapTest.DuplicatePeerConnection
30/31 Test: BootstrapTest.DuplicatePeerConnection
Command: "/home/runner/workspace/build/bootstrap_tests" "--gtest_filter=BootstrapTest.DuplicatePeerConnection" "--gtest_also_run_disabled_tests"
Directory: /home/runner/workspace/build
"BootstrapTest.DuplicatePeerConnection" start time: Jan 27 19:23 UTC
Output:
----------------------------------------------------------
Running main() from /build/source/googletest/src/gtest_main.cc
Note: Google Test filter = BootstrapTest.DuplicatePeerConnection
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from BootstrapTest
[ RUN      ] BootstrapTest.DuplicatePeerConnection
[2025-01-27 19:23:39.036178] [0x00007ff213382d80] [info]    Initializing Bootstrap with ID: 1
[2025-01-27 19:23:39.036186] [0x00007ff213382d80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 19:23:39.036196] [0x00007ff213382d80] [info]    Initializing TCP server  on 127.0.0.1:3001
[2025-01-27 19:23:39.036200] [0x00007ff213382d80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 19:23:39.036203] [0x00007ff213382d80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 19:23:39.036206] [0x00007ff213382d80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 19:23:39.036209] [0x00007ff213382d80] [info]    PeerManager set for TCP server 
[2025-01-27 19:23:39.036212] [0x00007ff213382d80] [info]    Initializing FileServer with ID: 1
[2025-01-27 19:23:39.036225] [0x00007ff213382d80] [info]    Initializing Store with base path: fileserver_1
[2025-01-27 19:23:39.036269] [0x00007ff213382d80] [debug]   Store directory created/verified at: fileserver_1
[2025-01-27 19:23:39.036281] [0x00007ff213382d80] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:39.036284] [0x00007ff213382d80] [info]    FileServer initialization complete
[2025-01-27 19:23:39.036287] [0x00007ff213382d80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 19:23:39.036290] [0x00007ff213382d80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 19:23:39.036293] [0x00007ff213382d80] [info]    Initializing Bootstrap with ID: 2
[2025-01-27 19:23:39.036296] [0x00007ff213382d80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 19:23:39.036300] [0x00007ff213382d80] [info]    Initializing TCP server  on 127.0.0.1:3002
[2025-01-27 19:23:39.036303] [0x00007ff213382d80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 19:23:39.036306] [0x00007ff213382d80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 19:23:39.036308] [0x00007ff213382d80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 19:23:39.036316] [0x00007ff213382d80] [info]    PeerManager set for TCP server 
[2025-01-27 19:23:39.036319] [0x00007ff213382d80] [info]    Initializing FileServer with ID: 2
[2025-01-27 19:23:39.036322] [0x00007ff213382d80] [info]    Initializing Store with base path: fileserver_2
[2025-01-27 19:23:39.036328] [0x00007ff213382d80] [debug]   Store directory created/verified at: fileserver_2
[2025-01-27 19:23:39.036331] [0x00007ff213382d80] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:39.036334] [0x00007ff213382d80] [info]    FileServer initialization complete
[2025-01-27 19:23:39.036336] [0x00007ff213382d80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 19:23:39.036338] [0x00007ff213382d80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 19:23:39.036499] [0x00007ff21337c6c0] [debug]   Endpoint created
[2025-01-27 19:23:39.036525] [0x00007ff21337c6c0] [debug]   Acceptor created
[2025-01-27 19:23:39.037447] [0x00007ff21337c6c0] [debug]   Starting to accept connections
[2025-01-27 19:23:39.037459] [0x00007ff21337c6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:39.037501] [0x00007ff21337c6c0] [debug]   Starting IO context
[2025-01-27 19:23:39.037655] [0x00007ff21337c6c0] [info]    Server started successfully on 127.0.0.1:3001
[2025-01-27 19:23:39.037661] [0x00007ff21337c6c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 19:23:40.036862] [0x00007ff21237a6c0] [debug]   Endpoint created
[2025-01-27 19:23:40.036883] [0x00007ff21237a6c0] [debug]   Acceptor created
[2025-01-27 19:23:40.037451] [0x00007ff21237a6c0] [debug]   Starting to accept connections
[2025-01-27 19:23:40.037466] [0x00007ff21237a6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:40.037489] [0x00007ff21237a6c0] [debug]   Starting IO context
[2025-01-27 19:23:40.037546] [0x00007ff21237a6c0] [info]    Server started successfully on 127.0.0.1:3002
[2025-01-27 19:23:40.037553] [0x00007ff21237a6c0] [info]    Bootstrap program: Connecting to bootstrap nodes...
[2025-01-27 19:23:40.037558] [0x00007ff21237a6c0] [info]    Resolving address to endpoints
[2025-01-27 19:23:40.037585] [0x00007ff21237a6c0] [info]    Attempting to connect to 127.0.0.1:3001
[2025-01-27 19:23:40.037695] [0x00007ff21237a6c0] [info]    Successfully connected to 127.0.0.1:3001
[2025-01-27 19:23:40.037703] [0x00007ff21237a6c0] [debug]   Initiating handshake request
[2025-01-27 19:23:40.037706] [0x00007ff21237a6c0] [debug]   Starting to send ID
[2025-01-27 19:23:40.037731] [0x00007ff21237a6c0] [info]    Sent ID: 2
[2025-01-27 19:23:40.037736] [0x00007ff21237a6c0] [debug]   Starting to read ID
[2025-01-27 19:23:40.038591] [0x00007ff212b7b6c0] [debug]   Calling receive_handshake for incoming connection
[2025-01-27 19:23:40.038626] [0x00007ff212b7b6c0] [debug]   Receiving handshake request
[2025-01-27 19:23:40.038630] [0x00007ff212b7b6c0] [debug]   Starting to read ID
[2025-01-27 19:23:40.038640] [0x00007ff212b7b6c0] [info]    Received ID: 2
[2025-01-27 19:23:40.038644] [0x00007ff212b7b6c0] [debug]   Preparing to send ID back to peer: 1
[2025-01-27 19:23:40.038647] [0x00007ff212b7b6c0] [debug]   Starting to send ID
[2025-01-27 19:23:40.038699] [0x00007ff212b7b6c0] [info]    Sent ID: 1
[2025-01-27 19:23:40.038710] [0x00007ff21237a6c0] [info]    Received ID: 1
[2025-01-27 19:23:40.038762] [0x00007ff21237a6c0] [debug]   Creating new peer with ID: 1
[2025-01-27 19:23:40.038783] [0x00007ff212b7b6c0] [debug]   Successfully sent ID back to peer
[2025-01-27 19:23:40.038796] [0x00007ff212b7b6c0] [debug]   Creating new peer with ID: 2
[2025-01-27 19:23:40.038822] [0x00007ff212b7b6c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:40.038826] [0x00007ff212b7b6c0] [debug]   Constructing TCP_Peer
[2025-01-27 19:23:40.038829] [0x00007ff212b7b6c0] [debug]   Input stream initialized
[2025-01-27 19:23:40.038831] [0x00007ff212b7b6c0] [info]    TCP_Peer instance created successfully
[2025-01-27 19:23:40.038846] [0x00007ff21237a6c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:40.038857] [0x00007ff21237a6c0] [debug]   Constructing TCP_Peer
[2025-01-27 19:23:40.038861] [0x00007ff21237a6c0] [debug]   Input stream initialized
[2025-01-27 19:23:40.038864] [0x00007ff21237a6c0] [info]    TCP_Peer instance created successfully
[2025-01-27 19:23:40.038868] [0x00007ff21237a6c0] [info]    Added peer with ID: 1
[2025-01-27 19:23:40.038871] [0x00007ff21237a6c0] [debug]   Setting stream processor
[2025-01-27 19:23:40.038874] [0x00007ff21237a6c0] [debug]   Stream processor configured
[2025-01-27 19:23:40.038877] [0x00007ff21237a6c0] [debug]   Attempting to start stream processing
[2025-01-27 19:23:40.038973] [0x00007ff21237a6c0] [info]    Stream processing started successfully
[2025-01-27 19:23:40.038981] [0x00007ff21237a6c0] [info]    Accepted and initialized new connection from peer: 1
[2025-01-27 19:23:40.038984] [0x00007ff21237a6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:40.039015] [0x00007ff21237a6c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 19:23:40.039350] [0x00007ff2113786c0] [debug]   Setting up stream processing
[2025-01-27 19:23:40.039357] [0x00007ff2113786c0] [trace]   Setting up next async read
[2025-01-27 19:23:40.039756] [0x00007ff212b7b6c0] [info]    Added peer with ID: 2
[2025-01-27 19:23:40.039765] [0x00007ff212b7b6c0] [debug]   Setting stream processor
[2025-01-27 19:23:40.039768] [0x00007ff212b7b6c0] [debug]   Stream processor configured
[2025-01-27 19:23:40.039770] [0x00007ff212b7b6c0] [debug]   Attempting to start stream processing
[2025-01-27 19:23:40.039847] [0x00007ff212b7b6c0] [info]    Stream processing started successfully
[2025-01-27 19:23:40.039852] [0x00007ff212b7b6c0] [info]    Accepted and initialized new connection from peer: 2
[2025-01-27 19:23:40.039855] [0x00007ff212b7b6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:40.039869] [0x00007ff212b7b6c0] [debug]   Handshake complete for peer: 2
[2025-01-27 19:23:40.039872] [0x00007ff212b7b6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:40.039900] [0x00007ff210b776c0] [debug]   Setting up stream processing
[2025-01-27 19:23:40.039904] [0x00007ff210b776c0] [trace]   Setting up next async read
[2025-01-27 19:23:41.036651] [0x00007ff213382d80] [info]    Bootstrap program: Connecting to bootstrap nodes...
[2025-01-27 19:23:41.036682] [0x00007ff213382d80] [info]    Resolving address to endpoints
[2025-01-27 19:23:41.036695] [0x00007ff213382d80] [info]    Attempting to connect to 127.0.0.1:3001
[2025-01-27 19:23:41.036803] [0x00007ff213382d80] [info]    Successfully connected to 127.0.0.1:3001
[2025-01-27 19:23:41.036815] [0x00007ff213382d80] [debug]   Initiating handshake request
[2025-01-27 19:23:41.036818] [0x00007ff213382d80] [debug]   Starting to send ID
[2025-01-27 19:23:41.036843] [0x00007ff213382d80] [info]    Sent ID: 2
[2025-01-27 19:23:41.036868] [0x00007ff213382d80] [debug]   Starting to read ID
[2025-01-27 19:23:41.036996] [0x00007ff212b7b6c0] [debug]   Calling receive_handshake for incoming connection
[2025-01-27 19:23:41.037008] [0x00007ff212b7b6c0] [debug]   Receiving handshake request
[2025-01-27 19:23:41.037011] [0x00007ff212b7b6c0] [debug]   Starting to read ID
[2025-01-27 19:23:41.037018] [0x00007ff212b7b6c0] [info]    Received ID: 2
[2025-01-27 19:23:41.037024] [0x00007ff212b7b6c0] [warning] Peer 2 already exists
[2025-01-27 19:23:41.037119] [0x00007ff213382d80] [error]   Failed to read ID: read: End of file [asio.misc:2]
[2025-01-27 19:23:41.037356] [0x00007ff213382d80] [error]   Handshake failed: read: End of file [asio.misc:2]
[2025-01-27 19:23:41.037396] [0x00007ff213382d80] [info]    Bootstrap program: Initiating shutdown sequence
[2025-01-27 19:23:41.037897] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down File Server
[2025-01-27 19:23:41.037903] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down Peer Manager
[2025-01-27 19:23:41.037906] [0x00007ff213382d80] [info]    Initiating PeerManager shutdown
[2025-01-27 19:23:41.037910] [0x00007ff213382d80] [debug]   Stopping stream processing
[2025-01-27 19:23:41.037942] [0x00007ff212b7b6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:41.037959] [0x00007ff2113786c0] [info]    Stream processing stopped
[2025-01-27 19:23:41.038008] [0x00007ff213382d80] [debug]   Processing thread joined
[2025-01-27 19:23:41.038011] [0x00007ff213382d80] [info]    Stream processing stopped
[2025-01-27 19:23:41.038045] [0x00007ff213382d80] [info]    Successfully disconnected peer: 1
[2025-01-27 19:23:41.038048] [0x00007ff213382d80] [debug]   Disconnected peer: 
[2025-01-27 19:23:41.038051] [0x00007ff213382d80] [info]    PeerManager shutdown complete
[2025-01-27 19:23:41.038054] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down TCP Server
[2025-01-27 19:23:41.038057] [0x00007ff213382d80] [info]    Initiating server shutdown
[2025-01-27 19:23:41.038079] [0x00007ff212b7b6c0] [error]   Read error: End of file
[2025-01-27 19:23:41.038082] [0x00007ff212b7b6c0] [trace]   Setting up next async read
[2025-01-27 19:23:41.038100] [0x00007ff213382d80] [info]    Server shutdown complete
[2025-01-27 19:23:41.038114] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down Channel
[2025-01-27 19:23:41.038117] [0x00007ff213382d80] [info]    Bootstrap program: Shutdown complete
[2025-01-27 19:23:41.038119] [0x00007ff213382d80] [info]    Bootstrap program: Initiating shutdown sequence
[2025-01-27 19:23:41.038121] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down File Server
[2025-01-27 19:23:41.038124] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down Peer Manager
[2025-01-27 19:23:41.038126] [0x00007ff213382d80] [info]    Initiating PeerManager shutdown
[2025-01-27 19:23:41.038146] [0x00007ff213382d80] [debug]   Stopping stream processing
[2025-01-27 19:23:41.038213] [0x00007ff210b776c0] [info]    Stream processing stopped
[2025-01-27 19:23:41.038251] [0x00007ff213382d80] [debug]   Processing thread joined
[2025-01-27 19:23:41.038254] [0x00007ff213382d80] [info]    Stream processing stopped
[2025-01-27 19:23:41.038291] [0x00007ff213382d80] [info]    Successfully disconnected peer: 2
[2025-01-27 19:23:41.038294] [0x00007ff213382d80] [debug]   Disconnected peer: 
[2025-01-27 19:23:41.038296] [0x00007ff213382d80] [info]    PeerManager shutdown complete
[2025-01-27 19:23:41.038298] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down TCP Server
[2025-01-27 19:23:41.038301] [0x00007ff213382d80] [info]    Initiating server shutdown
[2025-01-27 19:23:41.038340] [0x00007ff213382d80] [info]    Server shutdown complete
[2025-01-27 19:23:41.038351] [0x00007ff213382d80] [debug]   Bootstrap program: Shutting down Channel
[2025-01-27 19:23:41.038354] [0x00007ff213382d80] [info]    Bootstrap program: Shutdown complete
[       OK ] BootstrapTest.DuplicatePeerConnection (2002 ms)
[----------] 1 test from BootstrapTest (2002 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test suite ran. (2002 ms total)
[  PASSED  ] 1 test.
<end of output>
Test time =   2.04 sec
----------------------------------------------------------
Test Passed.
"BootstrapTest.DuplicatePeerConnection" end time: Jan 27 19:23 UTC
"BootstrapTest.DuplicatePeerConnection" time elapsed: 00:00:02
----------------------------------------------------------

31/31 Testing: BootstrapTest.FileSharing
31/31 Test: BootstrapTest.FileSharing
Command: "/home/runner/workspace/build/bootstrap_tests" "--gtest_filter=BootstrapTest.FileSharing" "--gtest_also_run_disabled_tests"
Directory: /home/runner/workspace/build
"BootstrapTest.FileSharing" start time: Jan 27 19:23 UTC
Output:
----------------------------------------------------------
Running main() from /build/source/googletest/src/gtest_main.cc
Note: Google Test filter = BootstrapTest.FileSharing
[==========] Running 1 test from 1 test suite.
[----------] Global test environment set-up.
[----------] 1 test from BootstrapTest
[ RUN      ] BootstrapTest.FileSharing
[2025-01-27 19:23:41.067625] [0x00007fd6a1071d80] [info]    Initializing Bootstrap with ID: 1
[2025-01-27 19:23:41.067635] [0x00007fd6a1071d80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 19:23:41.067645] [0x00007fd6a1071d80] [info]    Initializing TCP server  on 127.0.0.1:3001
[2025-01-27 19:23:41.067650] [0x00007fd6a1071d80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 19:23:41.067653] [0x00007fd6a1071d80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 19:23:41.067655] [0x00007fd6a1071d80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 19:23:41.067658] [0x00007fd6a1071d80] [info]    PeerManager set for TCP server 
[2025-01-27 19:23:41.067661] [0x00007fd6a1071d80] [info]    Initializing FileServer with ID: 1
[2025-01-27 19:23:41.067673] [0x00007fd6a1071d80] [info]    Initializing Store with base path: fileserver_1
[2025-01-27 19:23:41.067687] [0x00007fd6a1071d80] [debug]   Store directory created/verified at: fileserver_1
[2025-01-27 19:23:41.067693] [0x00007fd6a1071d80] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:41.067695] [0x00007fd6a1071d80] [info]    FileServer initialization complete
[2025-01-27 19:23:41.067697] [0x00007fd6a1071d80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 19:23:41.067699] [0x00007fd6a1071d80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 19:23:41.067702] [0x00007fd6a1071d80] [info]    Initializing Bootstrap with ID: 2
[2025-01-27 19:23:41.067704] [0x00007fd6a1071d80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 19:23:41.067707] [0x00007fd6a1071d80] [info]    Initializing TCP server  on 127.0.0.1:3002
[2025-01-27 19:23:41.067709] [0x00007fd6a1071d80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 19:23:41.067712] [0x00007fd6a1071d80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 19:23:41.067714] [0x00007fd6a1071d80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 19:23:41.067716] [0x00007fd6a1071d80] [info]    PeerManager set for TCP server 
[2025-01-27 19:23:41.067719] [0x00007fd6a1071d80] [info]    Initializing FileServer with ID: 2
[2025-01-27 19:23:41.067721] [0x00007fd6a1071d80] [info]    Initializing Store with base path: fileserver_2
[2025-01-27 19:23:41.067727] [0x00007fd6a1071d80] [debug]   Store directory created/verified at: fileserver_2
[2025-01-27 19:23:41.067731] [0x00007fd6a1071d80] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:41.067734] [0x00007fd6a1071d80] [info]    FileServer initialization complete
[2025-01-27 19:23:41.067736] [0x00007fd6a1071d80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 19:23:41.067738] [0x00007fd6a1071d80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 19:23:41.067848] [0x00007fd6a106b6c0] [debug]   Endpoint created
[2025-01-27 19:23:41.067861] [0x00007fd6a106b6c0] [debug]   Acceptor created
[2025-01-27 19:23:41.068502] [0x00007fd6a106b6c0] [debug]   Starting to accept connections
[2025-01-27 19:23:41.068525] [0x00007fd6a106b6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:41.068573] [0x00007fd6a106b6c0] [debug]   Starting IO context
[2025-01-27 19:23:41.068640] [0x00007fd6a106b6c0] [info]    Server started successfully on 127.0.0.1:3001
[2025-01-27 19:23:41.068647] [0x00007fd6a106b6c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 19:23:42.069485] [0x00007fd69bfff6c0] [debug]   Endpoint created
[2025-01-27 19:23:42.069510] [0x00007fd69bfff6c0] [debug]   Acceptor created
[2025-01-27 19:23:42.070032] [0x00007fd69bfff6c0] [debug]   Starting to accept connections
[2025-01-27 19:23:42.070044] [0x00007fd69bfff6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:42.070068] [0x00007fd69bfff6c0] [debug]   Starting IO context
[2025-01-27 19:23:42.070301] [0x00007fd69bfff6c0] [info]    Server started successfully on 127.0.0.1:3002
[2025-01-27 19:23:42.070357] [0x00007fd69bfff6c0] [info]    Bootstrap program: Connecting to bootstrap nodes...
[2025-01-27 19:23:42.070393] [0x00007fd69bfff6c0] [info]    Resolving address to endpoints
[2025-01-27 19:23:42.070488] [0x00007fd69bfff6c0] [info]    Attempting to connect to 127.0.0.1:3001
[2025-01-27 19:23:42.070733] [0x00007fd69bfff6c0] [info]    Successfully connected to 127.0.0.1:3001
[2025-01-27 19:23:42.070763] [0x00007fd69bfff6c0] [debug]   Initiating handshake request
[2025-01-27 19:23:42.070781] [0x00007fd69bfff6c0] [debug]   Starting to send ID
[2025-01-27 19:23:42.070864] [0x00007fd69bfff6c0] [info]    Sent ID: 2
[2025-01-27 19:23:42.070905] [0x00007fd69bfff6c0] [debug]   Starting to read ID
[2025-01-27 19:23:42.071530] [0x00007fd6a086a6c0] [debug]   Calling receive_handshake for incoming connection
[2025-01-27 19:23:42.071549] [0x00007fd6a086a6c0] [debug]   Receiving handshake request
[2025-01-27 19:23:42.071553] [0x00007fd6a086a6c0] [debug]   Starting to read ID
[2025-01-27 19:23:42.071562] [0x00007fd6a086a6c0] [info]    Received ID: 2
[2025-01-27 19:23:42.071638] [0x00007fd6a086a6c0] [debug]   Preparing to send ID back to peer: 1
[2025-01-27 19:23:42.071686] [0x00007fd6a086a6c0] [debug]   Starting to send ID
[2025-01-27 19:23:42.071776] [0x00007fd6a086a6c0] [info]    Sent ID: 1
[2025-01-27 19:23:42.071796] [0x00007fd6a086a6c0] [debug]   Successfully sent ID back to peer
[2025-01-27 19:23:42.071816] [0x00007fd6a086a6c0] [debug]   Creating new peer with ID: 2
[2025-01-27 19:23:42.071844] [0x00007fd69bfff6c0] [info]    Received ID: 1
[2025-01-27 19:23:42.071898] [0x00007fd6a086a6c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:42.071918] [0x00007fd6a086a6c0] [debug]   Constructing TCP_Peer
[2025-01-27 19:23:42.072000] [0x00007fd69bfff6c0] [debug]   Creating new peer with ID: 1
[2025-01-27 19:23:42.072024] [0x00007fd6a086a6c0] [debug]   Input stream initialized
[2025-01-27 19:23:42.072037] [0x00007fd6a086a6c0] [info]    TCP_Peer instance created successfully
[2025-01-27 19:23:42.072042] [0x00007fd6a086a6c0] [info]    Added peer with ID: 2
[2025-01-27 19:23:42.072045] [0x00007fd6a086a6c0] [debug]   Setting stream processor
[2025-01-27 19:23:42.072048] [0x00007fd6a086a6c0] [debug]   Stream processor configured
[2025-01-27 19:23:42.072050] [0x00007fd6a086a6c0] [debug]   Attempting to start stream processing
[2025-01-27 19:23:42.072097] [0x00007fd69bfff6c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 19:23:42.072121] [0x00007fd69bfff6c0] [debug]   Constructing TCP_Peer
[2025-01-27 19:23:42.072229] [0x00007fd69bfff6c0] [debug]   Input stream initialized
[2025-01-27 19:23:42.072378] [0x00007fd69bfff6c0] [info]    TCP_Peer instance created successfully
[2025-01-27 19:23:42.072398] [0x00007fd69bfff6c0] [info]    Added peer with ID: 1
[2025-01-27 19:23:42.072402] [0x00007fd69bfff6c0] [debug]   Setting stream processor
[2025-01-27 19:23:42.072405] [0x00007fd69bfff6c0] [debug]   Stream processor configured
[2025-01-27 19:23:42.072409] [0x00007fd69bfff6c0] [debug]   Attempting to start stream processing
[2025-01-27 19:23:42.072474] [0x00007fd69bfff6c0] [info]    Stream processing started successfully
[2025-01-27 19:23:42.072482] [0x00007fd69bfff6c0] [info]    Accepted and initialized new connection from peer: 1
[2025-01-27 19:23:42.072485] [0x00007fd69bfff6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:42.072489] [0x00007fd69bfff6c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 19:23:42.072534] [0x00007fd6a086a6c0] [info]    Stream processing started successfully
[2025-01-27 19:23:42.072543] [0x00007fd6a086a6c0] [info]    Accepted and initialized new connection from peer: 2
[2025-01-27 19:23:42.072547] [0x00007fd6a086a6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:42.072570] [0x00007fd6a086a6c0] [debug]   Handshake complete for peer: 2
[2025-01-27 19:23:42.072575] [0x00007fd6a086a6c0] [debug]   Creating new socket for incoming connection
[2025-01-27 19:23:42.073604] [0x00007fd69a7fc6c0] [debug]   Setting up stream processing
[2025-01-27 19:23:42.073612] [0x00007fd69a7fc6c0] [trace]   Setting up next async read
[2025-01-27 19:23:42.075555] [0x00007fd69affd6c0] [debug]   Setting up stream processing
[2025-01-27 19:23:42.075565] [0x00007fd69affd6c0] [trace]   Setting up next async read
[2025-01-27 19:23:43.068332] [0x00007fd6a1071d80] [info]    Storing file with filename: test.txt
[2025-01-27 19:23:43.068362] [0x00007fd6a1071d80] [info]    Storing data with key: test.txt
[2025-01-27 19:23:43.068367] [0x00007fd6a1071d80] [debug]   Generating hash for key: test.txt
[2025-01-27 19:23:43.069822] [0x00007fd6a1071d80] [debug]   Generated hash: a6ed0c785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:43.069843] [0x00007fd6a1071d80] [debug]   Calculated path: fileserver_1/a6/ed/0c/785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:43.069853] [0x00007fd6a1071d80] [debug]   Calculated file path: fileserver_1/a6/ed/0c/785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:43.069959] [0x00007fd6a1071d80] [info]    Successfully stored 17 bytes with key: test.txt
[2025-01-27 19:23:43.069973] [0x00007fd6a1071d80] [info]    Preparing file: test.txt for broadcast with message type: 0
[2025-01-27 19:23:43.069977] [0x00007fd6a1071d80] [info]    Initializing CryptoStream
[2025-01-27 19:23:43.069980] [0x00007fd6a1071d80] [debug]   CryptoStream initialization complete
[2025-01-27 19:23:43.069983] [0x00007fd6a1071d80] [debug]   Generating initialization vector
[2025-01-27 19:23:43.070597] [0x00007fd6a1071d80] [debug]   Successfully generated initialization vector
[2025-01-27 19:23:43.070608] [0x00007fd6a1071d80] [debug]   Broadcasting file to all peers
[2025-01-27 19:23:43.070660] [0x00007fd6a1071d80] [debug]   Sent message delimiter
[2025-01-27 19:23:43.070669] [0x00007fd6a1071d80] [debug]   Successfully broadcast to peer: 
[2025-01-27 19:23:43.070673] [0x00007fd6a1071d80] [info]    Broadcast completed. Successfully sent to 1 out of 1 peers
[2025-01-27 19:23:43.070677] [0x00007fd6a1071d80] [info]    Successfully prepared and sent file: test.txt
[2025-01-27 19:23:43.070681] [0x00007fd6a1071d80] [debug]   Cleaning up CryptoStream resources
[2025-01-27 19:23:43.070685] [0x00007fd6a1071d80] [info]    Successfully stored and broadcasted file: test.txt
[2025-01-27 19:23:43.070742] [0x00007fd69b7fe6c0] [trace]   Setting up next async read
[2025-01-27 19:23:45.070764] [0x00007fd6a1071d80] [info]    Attempting to get file: test.txt
[2025-01-27 19:23:45.070781] [0x00007fd6a1071d80] [info]    Retrieving data for key: test.txt
[2025-01-27 19:23:45.070786] [0x00007fd6a1071d80] [debug]   Generating hash for key: test.txt
[2025-01-27 19:23:45.070817] [0x00007fd6a1071d80] [debug]   Generated hash: a6ed0c785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:45.070825] [0x00007fd6a1071d80] [debug]   Calculated path: fileserver_2/a6/ed/0c/785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:45.070834] [0x00007fd6a1071d80] [error]   File not found: fileserver_2/a6/ed/0c/785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:45.070878] [0x00007fd6a1071d80] [debug]   File not found in local store: File not found
[2025-01-27 19:23:45.070887] [0x00007fd6a1071d80] [info]    Preparing file: test.txt for broadcast with message type: 1
[2025-01-27 19:23:45.070891] [0x00007fd6a1071d80] [info]    Initializing CryptoStream
[2025-01-27 19:23:45.070893] [0x00007fd6a1071d80] [debug]   CryptoStream initialization complete
[2025-01-27 19:23:45.070896] [0x00007fd6a1071d80] [debug]   Generating initialization vector
[2025-01-27 19:23:45.070909] [0x00007fd6a1071d80] [debug]   Successfully generated initialization vector
[2025-01-27 19:23:45.070914] [0x00007fd6a1071d80] [debug]   Broadcasting file to all peers
[2025-01-27 19:23:45.070950] [0x00007fd6a1071d80] [debug]   Sent message delimiter
[2025-01-27 19:23:45.070959] [0x00007fd6a1071d80] [debug]   Successfully broadcast to peer: 
[2025-01-27 19:23:45.070964] [0x00007fd6a1071d80] [info]    Broadcast completed. Successfully sent to 1 out of 1 peers
[2025-01-27 19:23:45.070967] [0x00007fd6a1071d80] [info]    Successfully prepared and sent file: test.txt
[2025-01-27 19:23:45.070971] [0x00007fd6a1071d80] [debug]   Cleaning up CryptoStream resources
[2025-01-27 19:23:45.070975] [0x00007fd6a1071d80] [debug]   Waiting for network retrieval of file: test.txt
[2025-01-27 19:23:45.070982] [0x00007fd6a086a6c0] [trace]   Setting up next async read
[2025-01-27 19:23:50.071067] [0x00007fd6a1071d80] [info]    Retrieving data for key: test.txt
[2025-01-27 19:23:50.071083] [0x00007fd6a1071d80] [debug]   Generating hash for key: test.txt
[2025-01-27 19:23:50.071105] [0x00007fd6a1071d80] [debug]   Generated hash: a6ed0c785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:50.071115] [0x00007fd6a1071d80] [debug]   Calculated path: fileserver_2/a6/ed/0c/785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:50.071123] [0x00007fd6a1071d80] [error]   File not found: fileserver_2/a6/ed/0c/785d4590bc95c216bcf514384eee6765b1c2b732d0b0a1ad7e14d3204a
[2025-01-27 19:23:50.071159] [0x00007fd6a1071d80] [debug]   File not found after network retrieval attempt: File not found
[2025-01-27 19:23:50.071166] [0x00007fd6a1071d80] [info]    File not found: test.txt
/home/runner/workspace/src/tests/bootstrap_test.cpp:137: Failure
Value of: retrieved_content.has_value()
  Actual: false
Expected: true
File should exist in peer2's store

terminate called without an active exception
<end of output>
Test time =   9.90 sec
----------------------------------------------------------
Test Failed.
"BootstrapTest.FileSharing" end time: Jan 27 19:23 UTC
"BootstrapTest.FileSharing" time elapsed: 00:00:09
----------------------------------------------------------

End testing: Jan 27 19:23 UTC
