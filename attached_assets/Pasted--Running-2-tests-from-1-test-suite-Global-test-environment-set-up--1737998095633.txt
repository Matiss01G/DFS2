[==========] Running 2 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 2 tests from BootstrapTest
[ RUN      ] BootstrapTest.PeerConnection
[2025-01-27 17:14:14.814074] [0x00007f121f73ad80] [info]    Initializing Bootstrap with ID: 1
[2025-01-27 17:14:14.814086] [0x00007f121f73ad80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 17:14:14.814091] [0x00007f121f73ad80] [info]    Initializing TCP server  on 127.0.0.1:3001
[2025-01-27 17:14:14.814098] [0x00007f121f73ad80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 17:14:14.814113] [0x00007f121f73ad80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 17:14:14.814119] [0x00007f121f73ad80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 17:14:14.814122] [0x00007f121f73ad80] [info]    PeerManager set for TCP server 
[2025-01-27 17:14:14.814146] [0x00007f121f73ad80] [info]    Initializing FileServer with ID: 1
[2025-01-27 17:14:14.814161] [0x00007f121f73ad80] [info]    Initializing Store with base path: fileserver_1
[2025-01-27 17:14:14.814168] [0x00007f121f73ad80] [debug]   Store directory created/verified at: fileserver_1
[2025-01-27 17:14:14.814171] [0x00007f121f73ad80] [info]    Initializing Codec with key of size: 32
[2025-01-27 17:14:14.814174] [0x00007f121f73ad80] [info]    FileServer initialization complete
[2025-01-27 17:14:14.814177] [0x00007f121f73ad80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 17:14:14.814180] [0x00007f121f73ad80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 17:14:14.814183] [0x00007f121f73ad80] [info]    Initializing Bootstrap with ID: 2
[2025-01-27 17:14:14.814186] [0x00007f121f73ad80] [debug]   Bootstrap program: Channel created successfully
[2025-01-27 17:14:14.814190] [0x00007f121f73ad80] [info]    Initializing TCP server  on 127.0.0.1:3002
[2025-01-27 17:14:14.814193] [0x00007f121f73ad80] [debug]   Bootstrap program: TCP Server created successfully
[2025-01-27 17:14:14.814196] [0x00007f121f73ad80] [info]    PeerManager initialized with key size: 32 bytes
[2025-01-27 17:14:14.814199] [0x00007f121f73ad80] [debug]   Bootstrap program: Peer Manager created successfully
[2025-01-27 17:14:14.814202] [0x00007f121f73ad80] [info]    PeerManager set for TCP server 
[2025-01-27 17:14:14.814205] [0x00007f121f73ad80] [info]    Initializing FileServer with ID: 2
[2025-01-27 17:14:14.814222] [0x00007f121f73ad80] [info]    Initializing Store with base path: fileserver_2
[2025-01-27 17:14:14.814231] [0x00007f121f73ad80] [debug]   Store directory created/verified at: fileserver_2
[2025-01-27 17:14:14.814240] [0x00007f121f73ad80] [info]    Initializing Codec with key of size: 32
[2025-01-27 17:14:14.814246] [0x00007f121f73ad80] [info]    FileServer initialization complete
[2025-01-27 17:14:14.814249] [0x00007f121f73ad80] [debug]   Bootstrap program: File Server created successfully
[2025-01-27 17:14:14.814253] [0x00007f121f73ad80] [info]    Bootstrap program: Successfully created all components
[2025-01-27 17:14:14.814390] [0x00007f121f7346c0] [debug]   Endpoint created
[2025-01-27 17:14:14.814415] [0x00007f121f7346c0] [debug]   Acceptor created
[2025-01-27 17:14:14.818851] [0x00007f121f7346c0] [debug]   Starting to accept connections
[2025-01-27 17:14:14.818872] [0x00007f121f7346c0] [debug]   Creating new socket for incoming connection
[2025-01-27 17:14:14.818889] [0x00007f121f7346c0] [debug]   Starting IO context
[2025-01-27 17:14:14.818954] [0x00007f121f7346c0] [info]    Server started successfully on 127.0.0.1:3001
[2025-01-27 17:14:14.818963] [0x00007f121f7346c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 17:14:17.820037] [0x00007f121e7326c0] [debug]   Endpoint created
[2025-01-27 17:14:17.820180] [0x00007f121e7326c0] [debug]   Acceptor created
[2025-01-27 17:14:17.822198] [0x00007f121e7326c0] [debug]   Starting to accept connections
[2025-01-27 17:14:17.822211] [0x00007f121e7326c0] [debug]   Creating new socket for incoming connection
[2025-01-27 17:14:17.822232] [0x00007f121e7326c0] [debug]   Starting IO context
[2025-01-27 17:14:17.822312] [0x00007f121e7326c0] [info]    Server started successfully on 127.0.0.1:3002
[2025-01-27 17:14:17.822323] [0x00007f121e7326c0] [info]    Bootstrap program: Connecting to bootstrap nodes...
[2025-01-27 17:14:17.822328] [0x00007f121e7326c0] [info]    Resolving address to endpoints
[2025-01-27 17:14:17.822352] [0x00007f121e7326c0] [info]    Attempting to connect to 127.0.0.1:3001
[2025-01-27 17:14:17.822481] [0x00007f121ef336c0] [debug]   Calling receive_handshake for incoming connection
[2025-01-27 17:14:17.822493] [0x00007f121ef336c0] [debug]   Receiving handshake request
[2025-01-27 17:14:17.822497] [0x00007f121ef336c0] [debug]   Starting to read ID
[2025-01-27 17:14:17.822506] [0x00007f121e7326c0] [info]    Successfully connected to 127.0.0.1:3001
[2025-01-27 17:14:17.822515] [0x00007f121e7326c0] [debug]   Initiating handshake request
[2025-01-27 17:14:17.822518] [0x00007f121e7326c0] [debug]   Starting to send ID
[2025-01-27 17:14:17.822551] [0x00007f121ef336c0] [info]    Received ID: 2
[2025-01-27 17:14:17.822560] [0x00007f121ef336c0] [debug]   Preparing to send ID back to peer: 1
[2025-01-27 17:14:17.822567] [0x00007f121ef336c0] [debug]   Starting to send ID
[2025-01-27 17:14:17.822579] [0x00007f121ef336c0] [info]    Sent ID: 1
[2025-01-27 17:14:17.822586] [0x00007f121ef336c0] [debug]   Successfully sent ID back to peer
[2025-01-27 17:14:17.822609] [0x00007f121ef336c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 17:14:17.822617] [0x00007f121ef336c0] [debug]   Constructing TCP_Peer
[2025-01-27 17:14:17.822621] [0x00007f121ef336c0] [debug]   Input stream initialized
[2025-01-27 17:14:17.822627] [0x00007f121ef336c0] [info]    TCP_Peer instance created successfully
[2025-01-27 17:14:17.822632] [0x00007f121ef336c0] [info]    Added peer with ID: 
[2025-01-27 17:14:17.822636] [0x00007f121ef336c0] [debug]   [] Setting stream processor
[2025-01-27 17:14:17.822640] [0x00007f121ef336c0] [debug]   [] Stream processor configured
[2025-01-27 17:14:17.822645] [0x00007f121ef336c0] [debug]   [] Attempting to start stream processing
[2025-01-27 17:14:17.822690] [0x00007f121ef336c0] [info]    [] Stream processing started successfully
[2025-01-27 17:14:17.822699] [0x00007f121ef336c0] [info]    Accepted and initialized new connection from 
[2025-01-27 17:14:17.822703] [0x00007f121ef336c0] [debug]   Creating new socket for incoming connection
[2025-01-27 17:14:17.822720] [0x00007f121ef336c0] [debug]   Handshake complete for peer: 2
[2025-01-27 17:14:17.822727] [0x00007f121ef336c0] [debug]   Creating new socket for incoming connection
[2025-01-27 17:14:17.822753] [0x00007f121e7326c0] [info]    Sent ID: 2
[2025-01-27 17:14:17.822762] [0x00007f121e7326c0] [debug]   Starting to read ID
[2025-01-27 17:14:17.822767] [0x00007f121e7326c0] [info]    Received ID: 1
[2025-01-27 17:14:17.822771] [0x00007f121e7326c0] [debug]   Creating new peer with ID: 
[2025-01-27 17:14:17.822785] [0x00007f121e7326c0] [info]    Initializing Codec with key of size: 32
[2025-01-27 17:14:17.822793] [0x00007f121e7326c0] [debug]   Constructing TCP_Peer
[2025-01-27 17:14:17.822796] [0x00007f121e7326c0] [debug]   Input stream initialized
[2025-01-27 17:14:17.822803] [0x00007f121e7326c0] [info]    TCP_Peer instance created successfully
[2025-01-27 17:14:17.822807] [0x00007f121e7326c0] [info]    Added peer with ID: 
[2025-01-27 17:14:17.822813] [0x00007f121e7326c0] [debug]   [] Setting stream processor
[2025-01-27 17:14:17.822823] [0x00007f121e7326c0] [debug]   [] Stream processor configured
[2025-01-27 17:14:17.822827] [0x00007f121e7326c0] [debug]   [] Attempting to start stream processing
[2025-01-27 17:14:17.822877] [0x00007f121e7326c0] [info]    [] Stream processing started successfully
[2025-01-27 17:14:17.822888] [0x00007f121e7326c0] [info]    Accepted and initialized new connection from 
[2025-01-27 17:14:17.822891] [0x00007f121e7326c0] [debug]   Creating new socket for incoming connection
[2025-01-27 17:14:17.822896] [0x00007f121e7326c0] [info]    Bootstrap program: Bootstrap successfully started
[2025-01-27 17:14:17.822920] [0x00007f121cf2f6c0] [debug]   [] Setting up stream processing
[2025-01-27 17:14:17.822935] [0x00007f121cf2f6c0] [trace]   [] Setting up next async read
[2025-01-27 17:14:17.822947] [0x00007f121d7306c0] [debug]   [] Setting up stream processing
[2025-01-27 17:14:17.822956] [0x00007f121d7306c0] [trace]   [] Setting up next async read
Getting peer managersJoining threads peer managerschecking for peer existence in peers map[2025-01-27 17:14:20.816410] [0x00007f121f73ad80] [info]    Bootstrap program: Initiating shutdown sequence
[2025-01-27 17:14:20.816432] [0x00007f121f73ad80] [debug]   Bootstrap program: Shutting down File Server
[2025-01-27 17:14:20.816437] [0x00007f121f73ad80] [debug]   Bootstrap program: Shutting down Peer Manager
[2025-01-27 17:14:20.816440] [0x00007f121f73ad80] [info]    Initiating PeerManager shutdown